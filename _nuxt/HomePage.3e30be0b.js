import{_ as R}from"./query.fc1bd4a3.js";import{i as T,l as $,q as z}from"./CloseButton.1f36506d.js";import{a as D}from"./HomePage.vue.d691f2ca.js";import{_ as Z}from"./_plugin-vue_export-helper.c27b6911.js";import{X as H,u,F as G,R as K,v as Q,M as y,N as g,P as e,a2 as k,a0 as U,y as c,Y as X,Z as Y,z as J,O as W,U as ee,Q as te,ae,ab as se,ac as re}from"./runtime-core.esm-bundler.79b04d1b.js";const x=m=>(se("data-v-82e705fe"),m=m(),re(),m),oe={class:"mx-auto flex flex-col justify-around min-h-[95vh] gap-0 lg:flex-row lg:min-h-[80vh] lg:justify-center lg:items-center lg:gap-[5vw] lg:max-w-6xl"},ne=x(()=>e("h1",{class:"font-Special text-primary-700 text-6xl leading-[0.75] tracking-tight lg:text-8xl lg:leading-[0.65] xl:text-[8rem] xl:leading-[0.65] dark:text-primary-400"}," Saarluse kompass ",-1)),le=x(()=>e("p",{class:"font-sans text-secondary-900 mb-0 text-lg dark:text-secondary-400 lg:mt-5"},"Tule uita lugudes, mis on jutustanud, kirja pannud ja piltidena kujutanud inimesed, keda Saaremaaga seob elu või töö või õppimine - või kõik koos. Kindlasti leiad sel teel üht-teist tuttavat, tõenäoliselt palju uut, ning võib juhtuda, et leiad ka iseenda - ja see vast oleks köige kenam?",-1)),ie={class:"relative flex flex-col grow-0 justify-center items-center order-1 lg:order-2"},ce={viewBox:"0 0 100 100",class:"h-[65vmin] w-[65vmin] lg:h-[55vmin] lg:w-[55vmin]"},de=x(()=>e("filter",{id:"displacementFilter"},[e("feTurbulence",{type:"turbulence",baseFrequency:"0.08",numOctaves:"7",result:"turbulence"}),e("feDisplacementMap",{in2:"turbulence",in:"SourceGraphic",scale:"1.25",xChannelSelector:"R",yChannelSelector:"B"})],-1)),ue={style:{filter:"url(#displacementFilter)"}},me={transform:"translate(50,50)"},pe=ae('<circle r="10" stroke-width="0.5" class="fill-none stroke-secondary-500" data-v-82e705fe></circle><polyline points="0,-46 7,0 0,25 -7,0" class="fill-secondary-800" data-v-82e705fe></polyline><polyline points="0,-35 5,0 -5,0" class="fill-primary-200 dark:fill-primary-600" data-v-82e705fe></polyline><circle r="8" class="fill-secondary-800" data-v-82e705fe></circle><circle r="6.5" class="fill-secondary-300 dark:fill-primary-600" data-v-82e705fe></circle><path d="M 0 -1.5 L 0,1.5 -1.5,0 Z" transform="translate(0,-3)" class="fill-secondary-800" data-v-82e705fe></path><path d="M 0 -1.5 L 0,1.5 -1.5,0 Z" transform="translate(-3,0) rotate(90)" class="fill-secondary-800" data-v-82e705fe></path>',7),fe=["d"],ye=["cx","cy","data-idx","onClick"],ge={class:"p-2 rounded border bg-white/90 text-primary-800 dark:bg-secondary-900 dark:text-primary-200 dark:border-secondary-800"},xe=x(()=>e("button",{class:"text-xl bg-primary-700 text-primary-50 px-4 py-2 -mt-1 rounded"},"LOE",-1)),he={__name:"HomePage",async setup(m){let p,w;const C=(t,s=1,a=0)=>Array.from({length:t}).map((i,r)=>typeof s=="function"?s(r+a):r*s+a),h=(t,s)=>[Math.cos((t-90)*(Math.PI/180))*s,Math.sin((t-90)*(Math.PI/180))*s].map(a=>F(a)),F=(t,s=8)=>parseFloat(t.toFixed(s)),N=(t,s,a=[0,0])=>{const[i,r]=a;return C(t,n=>n*(360/t)).map(n=>h(n,s)).map(([n,f])=>[n+i,f+r])},A=(t,s,a,i,r)=>{const n=h(r,a),f=h(i,a),O=r-i<=180?"0":"1";return["M",n[0],n[1],"A",a,a,0,O,0,f[0],f[1]].join(" ")},{data:_}=([p,w]=H(()=>T("stories",async()=>z("_lood").only(["description","_path"]).find())),p=await p,w(),p),v=_.value.length,B=360/v,b=u(0),d=u(0);let S=0,o=u(0);const I=u(N(v,47)),L=u(A(0,0,3,0,270));let l;const P=()=>B*o.value-d.value,M=()=>{o.value=Math.round(Math.random()*v)},V=()=>{b.value=P(),S=d.value,l.seek(0),l.pause(),l.remove(d),l.delay=0,l.duration=0,l.add({targets:d,value:[S,`+=${b.value+Math.floor(Math.random()*4)*360}`],duration:1400}),l.restart()},q=G(()=>`transform: rotate(${d.value}deg)`),j=$(),E=()=>{j.value=!j.value};return K(()=>{l=D.timeline({easing:"cubicBezier(0.645, 0.045, 0.355, 1.000)",direction:"normal",duration:2e3,autoplay:!1}),o.value=Math.floor(Math.random()*44)}),Q(o,t=>{V()}),(t,s)=>{const a=R;return y(),g("section",oe,[e("div",{class:"flex flex-col justify-center gap-6 order-2 grow text-center lg:order-1 lg:text-left lg:items-start lg:gap-6"},[ne,le,e("p",{class:"font-sans text-secondary-900 text-lg dark:text-secondary-400"},[k("Esimese sammuna kliki "),e("a",{class:"text-primary-700 cursor-pointer dark:text-rimary-400",onClick:M},"kompassil"),k(" ja vaata, kuhu satud. Või vali "),e("a",{class:"text-primary-700 cursor-pointer dark:text-rimary-400",onClick:E},"nimekirjast"),k(" mõte, mis sind kaasa kutsub.")])]),e("div",ie,[(y(),g("svg",ce,[de,e("g",ue,[e("g",me,[e("g",{style:U(c(q))},[pe,e("path",{d:c(L),"stroke-width":"1",class:"fill-none stroke-secondary-800"},null,8,fe)],4)]),e("g",{transform:"translate(50,50)"},[e("circle",{r:"12",onClick:M,style:{cursor:"pointer"},fill:"hsla(0,0%,100%,0)"})]),(y(!0),g(X,null,Y(c(I),(i,r)=>(y(),g("circle",{cx:i[0]+50,cy:i[1]+50,r:"1","data-idx":r,key:`point+${r}`,onClick:n=>J(o)?o.value=r:o=r,class:"compass-story fill-primary-600"},null,8,ye))),128))])])),W(a,{to:c(_)[c(o)]._path,class:"static top-1/2 left-1/6 w-full flex flex-col justify-center items-center mt-2 text-xl text-center leading-none font-Special cursor-pointer lg:absolute lg:w-4/6 lg:mt-20"},{default:ee(()=>[e("p",ge,te(c(_)[c(o)].description),1),xe]),_:1},8,["to"])])])}}},Me=Z(he,[["__scopeId","data-v-82e705fe"]]);export{Me as default};
