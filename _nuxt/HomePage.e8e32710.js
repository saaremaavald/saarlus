import{_ as O}from"./query.28590718.js";import{l as R,m as T,q as z}from"./CloseButton.4e89f442.js";import{a as D}from"./HomePage.vue.cc116c0c.js";import{_ as Z}from"./_plugin-vue_export-helper.c27b6911.js";import{X as H,u,F as G,R as K,v as Q,M as y,N as g,P as t,a0 as v,$ as U,y as i,Y as X,Z as Y,z as J,O as W,U as tt,Q as et,a1 as at,ab as st,ac as rt}from"./runtime-core.esm-bundler.0edcc7e6.js";const h=m=>(st("data-v-79c9fb7a"),m=m(),rt(),m),ot={class:"mx-auto flex flex-col justify-around min-h-[95vh] gap-0 lg:flex-row lg:min-h-[80vh] lg:justify-center lg:items-center lg:gap-[5vw] lg:max-w-6xl"},nt=h(()=>t("h1",{class:"font-Special mt-8 text-primary-700 text-6xl leading-[0.75] tracking-tight lg:text-7xl lg:leading-[0.65] lg:mt-0 xl:text-[6rem] xl:leading-[0.65] dark:text-primary-400"}," Saarluse kompass ",-1)),lt=h(()=>t("p",{class:"font-sans text-secondary-900 mb-0 text-lg bg-white dark:text-secondary-400 dark:bg-secondary-900 lg:mt-5"},"Tule uita lugudes, mis on jutustanud, kirja pannud ja piltidena kujutanud inimesed, keda Saaremaaga seob elu või töö või õppimine - või kõik koos. Kindlasti leiad sel teel üht-teist tuttavat, tõenäoliselt palju uut, ning võib juhtuda, et leiad ka iseenda - ja see vast oleks köige kenam?",-1)),ct={class:"relative flex flex-col grow-0 justify-center items-center order-1 lg:order-2"},it={viewBox:"0 0 100 100",class:"h-[65vmin] w-[65vmin] lg:h-[55vmin] lg:w-[55vmin]"},dt=h(()=>t("filter",{id:"displacementFilter"},[t("feTurbulence",{type:"turbulence",baseFrequency:"0.08",numOctaves:"7",result:"turbulence"}),t("feDisplacementMap",{in2:"turbulence",in:"SourceGraphic",scale:"1.25",xChannelSelector:"R",yChannelSelector:"B"})],-1)),ut={style:{filter:"url(#displacementFilter)"}},mt={transform:"translate(50,50)"},pt=at('<circle r="10" stroke-width="0.5" class="fill-none stroke-secondary-500" data-v-79c9fb7a></circle><polyline points="0,-46 7,0 0,25 -7,0" class="fill-secondary-800" data-v-79c9fb7a></polyline><polyline points="0,-35 5,0 -5,0" class="fill-primary-200 dark:fill-primary-600" data-v-79c9fb7a></polyline><circle r="8" class="fill-secondary-800" data-v-79c9fb7a></circle><circle r="6.5" class="fill-secondary-300 dark:fill-primary-600" data-v-79c9fb7a></circle><path d="M 0 -1.5 L 0,1.5 -1.5,0 Z" transform="translate(0,-3)" class="fill-secondary-800" data-v-79c9fb7a></path><path d="M 0 -1.5 L 0,1.5 -1.5,0 Z" transform="translate(-3,0) rotate(90)" class="fill-secondary-800" data-v-79c9fb7a></path>',7),ft=["d"],yt=["cx","cy","data-idx","onClick"],gt={class:"p-2 rounded border bg-white/90 text-primary-800 dark:bg-secondary-900 dark:text-primary-200 dark:border-secondary-800"},ht=h(()=>t("button",{class:"text-xl bg-primary-700 text-primary-50 px-4 py-2 -mt-1 rounded"},"LOE",-1)),xt={__name:"HomePage",async setup(m){let p,b;const C=(e,s=1,a=0)=>Array.from({length:e}).map((c,r)=>typeof s=="function"?s(r+a):r*s+a),x=(e,s)=>[Math.cos((e-90)*(Math.PI/180))*s,Math.sin((e-90)*(Math.PI/180))*s].map(a=>F(a)),F=(e,s=8)=>parseFloat(e.toFixed(s)),N=(e,s,a=[0,0])=>{const[c,r]=a;return C(e,n=>n*(360/e)).map(n=>x(n,s)).map(([n,f])=>[n+c,f+r])},A=(e,s,a,c,r)=>{const n=x(r,a),f=x(c,a),E=r-c<=180?"0":"1";return["M",n[0],n[1],"A",a,a,0,E,0,f[0],f[1]].join(" ")},{data:_}=([p,b]=H(()=>R("stories",async()=>z("_lood").only(["description","_path"]).find())),p=await p,b(),p),k=_.value.length,B=360/k,w=u(0),d=u(0);let S=0,o=u(0);const I=u(N(k,47)),L=u(A(0,0,3,0,270));let l;const P=()=>B*o.value-d.value,M=()=>{o.value=Math.round(Math.random()*k)},V=()=>{w.value=P(),S=d.value,l.seek(0),l.pause(),l.remove(d),l.delay=0,l.duration=0,l.add({targets:d,value:[S,`+=${w.value+Math.floor(Math.random()*4)*360}`],duration:1400}),l.restart()},$=G(()=>`transform: rotate(${d.value}deg)`),j=T(),q=()=>{j.value=!j.value};return K(()=>{l=D.timeline({easing:"cubicBezier(0.645, 0.045, 0.355, 1.000)",direction:"normal",duration:2e3,autoplay:!1}),o.value=Math.floor(Math.random()*44)}),Q(o,e=>{V()}),(e,s)=>{const a=O;return y(),g("section",ot,[t("div",{class:"flex flex-col justify-center gap-6 order-2 grow text-center lg:order-1 lg:text-left lg:items-start lg:gap-6"},[nt,lt,t("p",{class:"font-sans text-secondary-900 text-lg bg-white dark:text-secondary-400 dark:bg-secondary-900"},[v("Esimese sammuna kliki "),t("a",{class:"text-primary-700 cursor-pointer dark:text-rimary-400",onClick:M},"kompassi keskel"),v(" ja vaata, kuhu satud. Või vali "),t("a",{class:"text-primary-700 cursor-pointer dark:text-rimary-400",onClick:q},"nimekirjast"),v(" mõte, mis sind kaasa kutsub.")])]),t("div",ct,[(y(),g("svg",it,[dt,t("g",ut,[t("g",mt,[t("g",{style:U(i($))},[pt,t("path",{d:i(L),"stroke-width":"1",class:"fill-none stroke-secondary-800"},null,8,ft)],4)]),t("g",{transform:"translate(50,50)"},[t("circle",{r:"12",onClick:M,style:{cursor:"pointer"},fill:"hsla(0,0%,100%,0)"})]),(y(!0),g(X,null,Y(i(I),(c,r)=>(y(),g("circle",{cx:c[0]+50,cy:c[1]+50,r:"1","data-idx":r,key:`point+${r}`,onClick:n=>J(o)?o.value=r:o=r,class:"compass-story fill-primary-600"},null,8,yt))),128))])])),W(a,{to:i(_)[i(o)]._path,class:"static top-1/2 left-1/6 w-full flex flex-col justify-center items-center mt-2 text-xl text-center leading-none font-Special cursor-pointer lg:absolute lg:w-4/6 lg:mt-20"},{default:tt(()=>[t("p",gt,et(i(_)[i(o)].description),1),ht]),_:1},8,["to"])])])}}},Mt=Z(xt,[["__scopeId","data-v-79c9fb7a"]]);export{Mt as default};
